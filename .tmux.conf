# .tmux.conf
# Default settings {{{1

# Session Options {{{1
set-option -sg base-index 1
set-option -sg bell-action any
set-option -sg bell-on-alert on
set-option -sg default-command "reattach-to-user-namespace -l zsh"
set-option -sg default-terminal "screen-256color"
set-option -sg display-time 2000
set-option -sg history-limit 10000
set-option -sg mouse-resize-pane on
set-option -sg mouse-select-pane on
set-option -sg mouse-select-window on
set-option -sg renumber-windows on
set-option -sg set-titles on
set-option -sg set-titles-string "#T"
set-option -sg status-justify right
set-option -sg status-keys vi
set-option -sg status-left-length 100
set-option -sg status-left '#[fg=white]#h#(~/.bin/itunes-current-track-tmux.sh)'
set-option -sg status-right-length 60
set-option -sg status-right '#[fg=white]| #S | Up #(~/.bin/uptime.zsh) '
set-option -sg status-utf8 on
set-option -sg visual-activity off

# General Options {{{1
set-option -g escape-time 0
set-option -g message-bg black
set-option -g message-fg white
set-option -g message-attr bold
set-option -g status-bg default
set-option -g pane-border-fg black
set-option -g pane-active-border-fg white

# Window Options {{{1
set-window-option -g automatic-rename on
set-window-option -g mode-mouse on
set-window-option -g monitor-activity off
set-window-option -g pane-base-index 1
set-window-option -g utf8 on
set-window-option -g window-status-current-format '#[fg=red]#I:#W#F'
set-window-option -g window-status-format '#[fg=white]#I:#W#F'
set-window-option -g xterm-keys on
set-window-option -g mode-keys vi

# Keybindings {{{1
# Prefix Key {{{2
unbind 'C-b'
set-option -sg prefix 'C-Space'

# General bindings {{{2
bind 'r' source-file ~/.tmux.conf \; display "~/.tmux.conf reloaded!"
bind 'b' set status

# Moving between windows {{{2
bind 'h' select-pane -L
bind 'j' select-pane -D
bind 'k' select-pane -U
bind 'l' select-pane -R

# Panes {{{2
bind -n 'S-Down' resize-pane -D
bind -n 'S-Up' resize-pane -U
bind -n 'S-Left' resize-pane -L
bind -n 'S-Right' resize-pane -R
bind '_' split-window -v -c '#{pane_current_path}'
bind '|' split-window -h -c '#{pane_current_path}'

# Copy/Paste {{{2
bind -t vi-copy 'Escape' cancel
bind -t vi-copy 'v' begin-selection
bind -t vi-copy 'C-v' rectangle-toggle
bind -t vi-copy 'y' copy-pipe "reattach-to-user-namespace pbcopy"

# Window bindings {{{2
bind ',' command-prompt "rename-window '%%'"
bind '/' command-prompt "split-window 'exec man %%'"
bind 'T' command-prompt "swap-window -t '%%'"
bind 'C' new-window \; command-prompt "rename-window '%%'"
bind 'c' new-window
bind 'o' last-window

# Sessions {{{2
bind 'Enter' switch-client -l

# Quickly Edit files {{{2
bind 'e' split-window \; send-keys 'vim' ' ' '~/.tmux.conf' 'Enter'
bind 'v' split-window \; send-keys 'vim' ' ' '~/.vimrc' 'Enter'

# Toggle pane syncing {{{2
bind 'S' set-window-option -g synchronize-panes
# vim: ft=tmux
